var nfest=nfest||{};nfest.addToRoute=function(){var e=function(){nfest.addToRoute.buttonToggle()},t=function(){var e=document.querySelectorAll(".buttonAddToRoute");counter=document.getElementById("myRouteCounter");for(var t=e.length-1;t>=0;t--)e[t].onclick=function(e){var t=document.getElementById("myRouteCounter");t.classList.add("myRouteAdded"),t.addEventListener("animationend",function(){t.classList.remove("myRouteAdded")}),e.currentTarget.classList.toggle("addedToRoute"),nfest.helpers.hasClass(this,"addedToRoute")?(counter.classList.remove("hide"),o(this)):n(this)}},o=function(e){function t(e,t){return e.some(function(e){return t===e})}var o=JSON.parse(localStorage.getItem("myRouteEvents"))||[],n=e.id;t(o,n)||(o.push(n),localStorage.setItem("myRouteEvents",JSON.stringify(o)));var u=JSON.parse(localStorage.getItem("myRouteEvents")),d=document.getElementById("myRouteCounter");d.innerHTML=u.length},n=function(e){var t=JSON.parse(localStorage.getItem("myRouteEvents")),o=document.getElementById("myRouteCounter"),n=e.id,u=t.indexOf(n),d=document.querySelector("body");nfest.helpers.hasClass(d,"myTimetable")&&document.getElementById(n).classList.add("hide"),-1!=u&&(t.splice(u,1),localStorage.setItem("myRouteEvents",JSON.stringify(t))),null===localStorage.getItem("myRouteEvents")||0===t.length?o.classList.add("hide"):o.innerHTML=t.length};return{addToRouteLauncher:e,buttonToggle:t,addToMyRoute:o,removeFromMyRoute:n}}(),nfest.addToRoute.addToRouteLauncher();