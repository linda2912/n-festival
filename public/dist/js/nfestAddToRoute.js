var nfest=nfest||{};nfest.addToRoute=function(){var e=function(){var e=document.querySelectorAll(".buttonAddToRoute");counter=document.getElementById("myRouteCounter");for(var n=e.length-1;n>=0;n--)e[n].onclick=function(e){var n=document.getElementById("myRouteCounter");n.classList.add("myRouteAdded"),n.addEventListener("animationend",function(){n.classList.remove("myRouteAdded")}),e.currentTarget.classList.toggle("addedToRoute"),nfest.helpers.hasClass(this,"addedToRoute")?(counter.classList.remove("hide"),t(this)):o(this)}},t=function(e){function t(e,t){return e.some(function(e){return t===e})}var o=JSON.parse(localStorage.getItem("myRouteEvents"))||[],n=e.id;t(o,n)||(o.push(n),localStorage.setItem("myRouteEvents",JSON.stringify(o)));var s=JSON.parse(localStorage.getItem("myRouteEvents")),u=document.getElementById("myRouteCounter");u.innerHTML=s.length},o=function(e){var t=JSON.parse(localStorage.getItem("myRouteEvents")),o=document.getElementById("myRouteCounter"),n=e.id,s=t.indexOf(n),u=document.querySelector("body");nfest.helpers.hasClass(u,"myTimetable")&&document.getElementById(n).classList.add("hide"),-1!=s&&(t.splice(s,1),localStorage.setItem("myRouteEvents",JSON.stringify(t))),null===localStorage.getItem("myRouteEvents")||0===t.length?o.classList.add("hide"):o.innerHTML=t.length};return{buttonToggle:e,addToMyTimetable:t,removeFromTimetable:o}}(),nfest.addToRoute.buttonToggle();